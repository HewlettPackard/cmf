
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CMF - Common Metadata Framework">
      
      
        <meta name="author" content="AI Research & Development Lab (Hewlett-Packard Labs)">
      
      
      
      
        <link rel="next" href="cmf_client/step-by-step/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>CMF</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cmf-in-a-nutshell" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="CMF" class="md-header__button md-logo" aria-label="CMF" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CMF
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CMF in a nutshell
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/HewlettPackard/cmf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    HewlettPackard/cmf
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="CMF" class="md-nav__button md-logo" aria-label="CMF" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CMF
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HewlettPackard/cmf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    HewlettPackard/cmf
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    CMF in a nutshell
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    CMF in a nutshell
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pre-Requisites:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-set-up-python-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      2. Set up Python Virtual Environment:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-install-cmf" class="md-nav__link">
    <span class="md-ellipsis">
      3. Install CMF:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-overview" class="md-nav__link">
    <span class="md-ellipsis">
      API Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-layer-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Layer Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Layer Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyter-lab-docker-container-with-cmf-pre-installed" class="md-nav__link">
    <span class="md-ellipsis">
      Jupyter Lab docker container with CMF pre-installed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-a-jupyterlab-docker-environment-with-cmf-pre-installed" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Jupyterlab Docker environment with CMF pre-installed
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use a Jupyterlab Docker environment with CMF pre-installed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    <span class="md-ellipsis">
      Citation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community" class="md-nav__link">
    <span class="md-ellipsis">
      Community
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_client/step-by-step/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick start with cmf-client
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="examples/getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture/advantages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advantages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Client
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_client/cmf_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_client/step-by-step/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick start with cmf-client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_client/minio-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dvc minio backend
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Server
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_server/cmf-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started with cmf-server
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TensorBoard
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            TensorBoard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cmf_client/tensorflow_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started with tensorboard
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Public API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Public API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/public/cmf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CMF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/public/dataslice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataSlice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/public/cmfquery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CmfQuery
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ontology
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Ontology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="common-metadata-ontology/readme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ontology
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pre-Requisites:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-set-up-python-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      2. Set up Python Virtual Environment:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-install-cmf" class="md-nav__link">
    <span class="md-ellipsis">
      3. Install CMF:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-overview" class="md-nav__link">
    <span class="md-ellipsis">
      API Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-layer-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Layer Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Layer Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyter-lab-docker-container-with-cmf-pre-installed" class="md-nav__link">
    <span class="md-ellipsis">
      Jupyter Lab docker container with CMF pre-installed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-a-jupyterlab-docker-environment-with-cmf-pre-installed" class="md-nav__link">
    <span class="md-ellipsis">
      Use a Jupyterlab Docker environment with CMF pre-installed
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use a Jupyterlab Docker environment with CMF pre-installed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    <span class="md-ellipsis">
      Citation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community" class="md-nav__link">
    <span class="md-ellipsis">
      Community
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="cmf-in-a-nutshell">CMF in a nutshell<a class="headerlink" href="#cmf-in-a-nutshell" title="Permanent link">&para;</a></h1>
<p>CMF (Common Metadata Framework) collects and stores information associated with Machine Learning (ML) pipelines. It 
also implements APIs to query this metadata. The CMF adopts a data-first approach: all artifacts (such as datasets, ML
models and performance metrics) recorded by the framework are versioned and identified by their content hash.</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<h4 id="1-pre-requisites">1. Pre-Requisites:<a class="headerlink" href="#1-pre-requisites" title="Permanent link">&para;</a></h4>
<ul>
<li>3.9&gt;= Python &lt;3.11</li>
<li>Git latest version</li>
</ul>
<h4 id="2-set-up-python-virtual-environment">2. Set up Python Virtual Environment:<a class="headerlink" href="#2-set-up-python-virtual-environment" title="Permanent link">&para;</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Using Conda</label><label for="__tabbed_1_2">Using VirtualEnv</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>cmf<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.10
conda<span class="w"> </span>activate<span class="w"> </span>cmf
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>virtualenv<span class="w"> </span>--python<span class="o">=</span><span class="m">3</span>.10<span class="w"> </span>.cmf
<span class="nb">source</span><span class="w"> </span>.cmf/bin/activate
</code></pre></div>
</div>
</div>
</div>
<h4 id="3-install-cmf">3. Install CMF:<a class="headerlink" href="#3-install-cmf" title="Permanent link">&para;</a></h4>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Latest version form GitHub</label><label for="__tabbed_2_2">Stable version form PyPI</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/HewlettPackard/cmf
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># pip install cmflib</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>After installing CMF, proceed to configure CMF server and client. For detailed configuration instructions, refer to the <a href="cmf_client/step-by-step/">Quick start with cmf-client</a> page.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Complex ML projects rely on <code>ML pipelines</code> to train and test ML models. An ML pipeline is a sequence of stages where
each stage performs a particular task, such as data loading,  pre-processing, ML model training and testing stages.
Each stage can have multiple Executions. 
Each Execution,</p>
<ul>
<li>consume <code>inputs</code> and produce <code>outputs</code>.</li>
<li>are parametrized by parameters that guide the process of producing outputs.</li>
</ul>
<p><img src="assets/ml_pipeline_def.png" alt="ML Pipeline Definition Example" style="display: block; margin: 0 auto" /></p>
<p>CMF uses the abstractions of <code>Pipeline</code>,<code>Context</code> and <code>Executions</code> to store the metadata of complex ML pipelines.
Each pipeline has a name. Users provide it when they initialize the CMF. Each stage is represented by a <code>Context</code> object.
Metadata associated with each <u>run</u> of a <u>stage</u> is captured in the Execution object.
Inputs and outputs of Executions can be logged as dataset, model or metrics. While parameters of executions
are recorded as properties of executions.</p>
<p><img src="assets/cmf_concepts.png" alt="CMF abstractions" style="display: block; margin: 0 auto" /></p>
<table style="border: 0">
<tbody style="width: 100%; display: table">
<tr>
<td>
<div class="tabbed-set tabbed-alternate" data-tabs="3:4"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">1 Init</label><label for="__tabbed_3_2">2 Stage type</label><label for="__tabbed_3_3">3 New execution</label><label for="__tabbed_3_4">4 Log Artifacts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Start tracking the pipeline metadata by initializing the CMF runtime. The metadata will be associated with the 
pipeline named <code>test_pipeline</code>.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cmflib.cmf</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cmf</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ml_metadata.proto</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_store_pb2</span> <span class="k">as</span> <span class="n">mlpb</span>

<span class="n">cmf</span> <span class="o">=</span> <span class="n">Cmf</span><span class="p">(</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;mlmd&quot;</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;test_pipeline&quot;</span><span class="p">,</span>
<span class="p">)</span> 
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p>Before we can start tracking metadata, we need to let CMF know about stage type. This is not yet associated with 
this particular execution.
<div class="highlight"><pre><span></span><code><span class="n">context</span><span class="p">:</span> <span class="n">mlmd</span><span class="o">.</span><span class="n">proto</span><span class="o">.</span><span class="n">Context</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
    <span class="n">pipeline_stage</span><span class="o">=</span><span class="s2">&quot;train&quot;</span>
<span class="p">)</span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p>Now we can create a new stage execution associated with the <code>train</code> stage. The CMF always creates a new execution,
and will adjust its name, so it's unique. This is also the place where we can log execution <code>parameters</code> like seed, hyper-parameters etc .
<div class="highlight"><pre><span></span><code><span class="n">execution</span><span class="p">:</span> <span class="n">mlmd</span><span class="o">.</span><span class="n">proto</span><span class="o">.</span><span class="n">Execution</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">create_execution</span><span class="p">(</span>
    <span class="n">execution_type</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span>
    <span class="n">custom_properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;num_epochs&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">}</span>
<span class="p">)</span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p>Finally, we can log an input (train dataset), and once trained, an output (ML model) artifacts.
<div class="highlight"><pre><span></span><code><span class="n">cmf</span><span class="o">.</span><span class="n">log_dataset</span><span class="p">(</span>
    <span class="s1">&#39;artifacts/test_dataset.csv&#39;</span><span class="p">,</span>   <span class="c1"># Dataset path </span>
    <span class="s2">&quot;input&quot;</span>                         <span class="c1"># This is INPUT artifact</span>
<span class="p">)</span>
<span class="n">cmf</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span>
    <span class="s2">&quot;artifacts/model.pkl&quot;</span><span class="p">,</span>          <span class="c1"># Model path </span>
    <span class="n">event</span><span class="o">=</span><span class="s2">&quot;output&quot;</span>                  <span class="c1"># This is OUTPUT artifact</span>
<span class="p">)</span>
</code></pre></div></p>
</div>
</div>
</div>
</td>
<td style="text-align: right; width: 450px">
<img src="assets/ml_pipeline_stage_execution.png" alt="ML Pipeline Stage Execution" style="width: 450px; height: auto" />
</td>
</tr>
</tbody>
</table>
<h2 id="quick-example">Quick Example<a class="headerlink" href="#quick-example" title="Permanent link">&para;</a></h2>
<p>Go through <a href="examples/getting_started/">Getting Started</a> page to learn more about CMF API usage.</p>
<h2 id="api-overview">API Overview<a class="headerlink" href="#api-overview" title="Permanent link">&para;</a></h2>
<p><strong>Import CMF</strong>.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cmflib</span><span class="w"> </span><span class="kn">import</span> <span class="n">cmf</span>
</code></pre></div></p>
<p><strong>Initialize CMF</strong>. The [CMF][cmflibcmfcmf] object is responsible for managing a CMF backend to record 
the pipeline metadata. Internally, it creates a pipeline abstraction that groups individual stages and their executions. 
All stages, their executions and produced artifacts will be associated with a pipeline with the given name.
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">Cmf</span><span class="p">(</span>
   <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;mlmd&quot;</span><span class="p">,</span>                <span class="c1"># Path to ML Metadata file.</span>
   <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;mnist&quot;</span>           <span class="c1"># Name of a ML pipeline.</span>
<span class="p">)</span>                                                       
</code></pre></div></p>
<p><strong>Define a stage</strong>. An ML pipeline can have multiple stages, and each stage can be associated with multiple executions.
A stage is like a class in the world of object-oriented programming languages. A context (stage description) defines 
what this stage looks like (name and optional properties), and is created with the 
<a class="autorefs autorefs-internal" title="create_context(pipeline_stage, custom_properties=None)" href="api/public/cmf/#cmflib.cmf.Cmf.create_context">create_context</a> method.
<div class="highlight"><pre><span></span><code><span class="n">context</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">create_context</span><span class="p">(</span>
    <span class="n">pipeline_stage</span><span class="o">=</span><span class="s2">&quot;download&quot;</span><span class="p">,</span>     <span class="c1"># Stage name</span>
    <span class="n">custom_properties</span><span class="o">=</span><span class="p">{</span>            <span class="c1"># Optional properties</span>
        <span class="s2">&quot;uses_network&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>      <span class="c1">#  Downloads from the Internet</span>
        <span class="s2">&quot;disk_space&quot;</span><span class="p">:</span> <span class="s2">&quot;10GB&quot;</span>       <span class="c1">#  Needs this much space</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div></p>
<p><strong>Create a stage execution</strong>. A stage in ML pipeline can have multiple executions. Every run is marked as an execution. 
This API helps to track the metadata associated with the execution, like stage parameters (e.g., number of epochs and 
learning rate for train stages). The stage execution name does not need to be the same as the name of its context.
Moreover, the CMF will adjust this name to ensure every execution has a unique name. The CMF will internally associate
this execution with the context created previously. Stage executions are created by calling the 
<a class="autorefs autorefs-internal" title="create_execution(execution_type, custom_properties=None, cmd=None, create_new_execution=True)" href="api/public/cmf/#cmflib.cmf.Cmf.create_execution">create_execution</a> method.
<div class="highlight"><pre><span></span><code><span class="n">execution</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">create_execution</span><span class="p">(</span>
    <span class="n">execution_type</span><span class="o">=</span><span class="s2">&quot;download&quot;</span><span class="p">,</span>            <span class="c1"># Execution name.</span>
    <span class="n">custom_properties</span> <span class="o">=</span> <span class="p">{</span>                 <span class="c1"># Execution parameters</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://a.com/mnist.gz&quot;</span>   <span class="c1">#  Data URL.</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div></p>
<p><strong>Log artifacts</strong>. A stage execution can consume (inputs) and produce (outputs) multiple artifacts (datasets, models and 
performance metrics). The path of these artifacts must be relative to the project (repository) root path. Artifacts 
might have optional metadata associated with them. These metadata could include feature statistics for ML datasets, or useful parameters for ML models (such as, for
instance, number of trees in a random forest classifier). </p>
<ul>
<li>
<p><strong>Datasets</strong> are logged with the <a class="autorefs autorefs-internal" title="log_dataset(url, event, custom_properties=None, external=False)" href="api/public/cmf/#cmflib.cmf.Cmf.log_dataset">log_dataset</a> method.
    <div class="highlight"><pre><span></span><code><span class="n">cmf</span><span class="o">.</span><span class="n">log_dataset</span><span class="p">(</span><span class="s1">&#39;data/mnist.gz&#39;</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span><span class="p">,</span> <span class="n">custom_properties</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mnist&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s1">&#39;raw&#39;</span><span class="p">})</span>
<span class="n">cmf</span><span class="o">.</span><span class="n">log_dataset</span><span class="p">(</span><span class="s1">&#39;data/train.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">custom_properties</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mnist&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;train_split&quot;</span><span class="p">})</span>
<span class="n">cmf</span><span class="o">.</span><span class="n">log_dataset</span><span class="p">(</span><span class="s1">&#39;data/test.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">custom_properties</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mnist&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;test_split&quot;</span><span class="p">})</span>
</code></pre></div></p>
</li>
<li>
<p><strong>ML models</strong> produced by training stages are logged using <a class="autorefs autorefs-internal" title="log_model(path, event, model_framework='Default', model_type='Default', model_name='Default', custom_properties=None)" href="api/public/cmf/#cmflib.cmf.Cmf.log_model">log_model</a> API. ML models can be 
  both input and output artifacts. The metadata associated with the artifact could be logged as an optional argument.
    <div class="highlight"><pre><span></span><code><span class="c1"># In train stage</span>
<span class="n">cmf</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span>
   <span class="n">path</span><span class="o">=</span><span class="s2">&quot;model/rf.pkl&quot;</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">model_framework</span><span class="o">=</span><span class="s2">&quot;scikit-learn&quot;</span><span class="p">,</span> <span class="n">model_type</span><span class="o">=</span><span class="s2">&quot;RandomForestClassifier&quot;</span><span class="p">,</span> 
   <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;RandomForestClassifier:default&quot;</span> 
<span class="p">)</span>

<span class="c1"># In test stage</span>
<span class="n">cmf</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span>
   <span class="n">path</span><span class="o">=</span><span class="s2">&quot;model/rf.pkl&quot;</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;input&quot;</span> 
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Metrics</strong> of every optimization step (one epoch of Stochastic Gradient Descent, or one boosting round in 
  Gradient Boosting Trees) are logged using <a class="autorefs autorefs-internal" title="log_metric(metrics_name, custom_properties=None)" href="api/public/cmf/#cmflib.cmf.Cmf.log_metric">log_metric</a> API.
    <div class="highlight"><pre><span></span><code><span class="c1">#Can be called at every epoch or every step in the training. This is logged to a parquet file and committed at the </span>
<span class="c1"># commit stage.</span>

<span class="c1">#Inside training loop</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span> 
     <span class="n">cmf</span><span class="o">.</span><span class="n">log_metric</span><span class="p">(</span><span class="s2">&quot;training_metrics&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;loss&quot;</span><span class="p">:</span> <span class="n">loss</span><span class="p">})</span> 
<span class="n">cmf</span><span class="o">.</span><span class="n">commit_metrics</span><span class="p">(</span><span class="s2">&quot;training_metrics&quot;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Stage metrics</strong>, or final metrics, are logged with the <a class="autorefs autorefs-internal" title="log_execution_metrics(metrics_name, custom_properties=None)" href="api/public/cmf/#cmflib.cmf.Cmf.log_execution_metrics">log_execution_metrics</a>
  method. These are final metrics of a stage, such as final train or test accuracy. 
    <div class="highlight"><pre><span></span><code><span class="n">cmf</span><span class="o">.</span><span class="n">log_execution_metrics</span><span class="p">(</span><span class="s2">&quot;metrics&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;avg_prec&quot;</span><span class="p">:</span> <span class="n">avg_prec</span><span class="p">,</span> <span class="s2">&quot;roc_auc&quot;</span><span class="p">:</span> <span class="n">roc_auc</span><span class="p">})</span>
</code></pre></div></p>
</li>
</ul>
<p><strong>Dataslices</strong> are intended to be used to track subsets of the data. For instance, this can be used to track and compare
accuracies of ML models on these subsets to identify model bias. <a class="autorefs autorefs-internal" title="cmflib.cmf.Cmf.DataSlice" href="api/public/dataslice/#cmflibcmfcmfdataslice">Data slices</a> are created with 
the <a class="autorefs autorefs-internal" title="create_dataslice(name)" href="api/public/cmf/#cmflib.cmf.Cmf.create_dataslice">create_dataslice</a> method.
<div class="highlight"><pre><span></span><code><span class="n">dataslice</span> <span class="o">=</span> <span class="n">cmf</span><span class="o">.</span><span class="n">create_dataslice</span><span class="p">(</span><span class="s2">&quot;slice-a&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">dataslice</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="s2">&quot;data/raw_data/&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.xml&quot;</span><span class="p">)</span>
<span class="n">dataslice</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div></p>
<h2 id="graph-layer-overview">Graph Layer Overview<a class="headerlink" href="#graph-layer-overview" title="Permanent link">&para;</a></h2>
<p>CMF library has an optional <code>graph layer</code> which stores the relationships in a Neo4J graph database. To use the graph 
layer, the <code>graph</code> parameter in the library init call must be set to true (it is set to false by default). The 
library reads the configuration parameters of the graph database from <code>cmf config</code> generated by <code>cmf init</code> command. </p>
<div class="highlight"><pre><span></span><code>cmf init minioS3 --url s3://dvc-art --endpoint-url http://x.x.x.x:9000 --access-key-id minioadmin --secret-key minioadmin --git-remote-url https://github.com/user/experiment-repo.git --cmf-server-url http://x.x.x.x:8080  --neo4j-user neo4j --neo4j-password password --neo4j-uri bolt://localhost:7687
</code></pre></div>
<blockquote>
<p>Here, "dvc-art" is provided as an example bucket name. However, users can change it as needed, if the user chooses to change it, they will need to update the Dockerfile for minioS3 accordingly.</p>
</blockquote>
<p>To use the graph layer, instantiate the CMF with <code>graph=True</code> parameter: 
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cmflib</span><span class="w"> </span><span class="kn">import</span> <span class="n">cmf</span>

<span class="n">cmf</span> <span class="o">=</span>  <span class="n">cmf</span><span class="o">.</span><span class="n">Cmf</span><span class="p">(</span>
   <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;mlmd&quot;</span><span class="p">,</span>
   <span class="n">pipeline_name</span><span class="o">=</span><span class="s2">&quot;anomaly_detection_pipeline&quot;</span><span class="p">,</span> 
   <span class="n">graph</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div></p>
<h3 id="jupyter-lab-docker-container-with-cmf-pre-installed"><a href="#docker-section">Jupyter Lab docker container with CMF pre-installed</a><a class="headerlink" href="#jupyter-lab-docker-container-with-cmf-pre-installed" title="Permanent link">&para;</a></h3>
<h2 id="use-a-jupyterlab-docker-environment-with-cmf-pre-installed"><a name="docker-section"></a> Use a Jupyterlab Docker environment with CMF pre-installed<a class="headerlink" href="#use-a-jupyterlab-docker-environment-with-cmf-pre-installed" title="Permanent link">&para;</a></h2>
<p>CMF has a docker-compose file which creates two docker containers,
- JupyterLab Notebook Environment with CMF pre installed.
    - Accessible at http://[HOST.IP.AD.DR]:8888 (default token: <code>docker</code>)
    - Within the Jupyterlab environment, a startup script switches context to <code>$USER:$GROUP</code> as specified in <code>.env</code>
    - <code>example-get-started</code> from this repo is bind mounted into <code>/home/jovyan/example-get-started</code>
- Neo4j Docker container to store and access lineages.</p>
<h4 id="step-1">Step 1. <br><a class="headerlink" href="#step-1" title="Permanent link">&para;</a></h4>
<p><code>create .env file in current folder using env-example as a template. Modify the .env file for the following variables
USER,UID,GROUP,GID,GIT_USER_NAME,GIT_USER_EMAIL,GIT_REMOTE_URL #These are used by docker-compose.yml</code> <br></p>
<h4 id="step-2">Step 2. <br><a class="headerlink" href="#step-2" title="Permanent link">&para;</a></h4>
<p><strong>Update <code>docker-compose.yml</code> as needed.</strong><br><br>
    your .ssh folder is mounted inside the docker conatiner to enable you to push and pull code from git <br><br>
    <strong>To-Do</strong> <br>
    Create these directories in your home folder<br><br>
<div class="highlight"><pre><span></span><code>mkdir $HOME/workspace 
mkdir $HOME/dvc_remote 
</code></pre></div>
workspace - workspace will be mounted inside the cmf pre-installed docker conatiner (can be your code directory)  <br>
dvc_remote - remote data store for dvc <br></p>
<p><strong><em>or</em></strong><br>
Change the below lines in docker-compose to reflect the appropriate directories<br>
<div class="highlight"><pre><span></span><code> If your workspace is named &quot;experiment&quot; change the below line
$HOME/workspace:/home/jovyan/workspace to 
$HOME/experiment:/home/jovyan/wokspace
</code></pre></div>
<div class="highlight"><pre><span></span><code>If your remote is /extmount/data change the line 
$HOME/dvc_remote:/home/jovyan/dvc_remote to 
/extmount/data:/home/jovyan/dvc_remote 
</code></pre></div>
<strong><em>Start the docker</em></strong>
<div class="highlight"><pre><span></span><code>docker-compose up --build -d
</code></pre></div>
<strong><em>Access the jupyter notebook</em></strong>
http://[HOST.IP.AD.DR]:8888 (default token: <code>docker</code>)</p>
<p>Click the terminal icon<br>
<img src= "assets/jupyter.png" width=400> <br>
<strong><em>Quick Start</em></strong>
<div class="highlight"><pre><span></span><code>cd example-get-started
cmf init local --path /home/user/local-storage --git-remote-url https://github.com/user/experiment-repo.git --cmf-server-url http://127.0.0.1:8080 --neo4j-user neo4j --neo4j-password password --neo4j-uri bolt://localhost:7687
sh test_script.sh
cmf artifact push -p &#39;Test-env&#39;
</code></pre></div>
The above steps will run a pre coded example pipeline and the metadata is stored in a file named "mlmd".<br>
The artifacts created will be pushed to configured dvc remote (default: /home/dvc_remote)<br>
The stored metadata is displayed as 
<img alt="image" src="assets/Metadata_stored.png" /></p>
<p>Metadata lineage can be accessed in neo4j.<br>
Open http://host:7475/browser/
Connect to server with default password neo4j123 (To change this modify .env file)<br>
<img src="assets/neo4j_server.png" width=400> <br>
Run the query <br>
<div class="highlight"><pre><span></span><code>MATCH (a:Execution)-[r]-(b) WHERE (b:Dataset or b:Model or b:Metrics) RETURN a,r, b     
</code></pre></div>
Expected output<br>
<img src="assets/neo4j_output.PNG" width=400> <br></p>
<p><strong><em>Jupyter Lab Notebook</em></strong> <br><br>
Select the kernel as Python[conda env:python37]<br><br>
<img src="assets/python_kernel_broader.png" width=400> <br><img src="assets/Python_kernel.png" width=200> <br></p>
<p><strong><em>Shutdown/remove (Remove volumes as well)</em></strong>
<div class="highlight"><pre><span></span><code>docker-compose down -v
</code></pre></div></p>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>CMF is an open source project hosted on <a href="https://github.com/HewlettPackard/cmf">GitHub</a> and distributed according to
the Apache 2.0 <a href="https://github.com/HewlettPackard/cmf/blob/master/LICENSE">licence</a>. We are welcome user contributions -
send us a message on the Slack <a href="https://commonmetadata.slack.com/">channel</a> or open a GitHub 
<a href="https://github.com/HewlettPackard/cmf/issues">issue</a> or a <a href="https://github.com/HewlettPackard/cmf/pulls">pull request</a> 
on GitHub.</p>
<h2 id="citation">Citation<a class="headerlink" href="#citation" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nc">@mist</span><span class="p">{</span><span class="nl">foltin2022cmf</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{Self-Learning Data Foundation for Scientific AI}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Martin Foltin, Annmary Justine, Sergey Serebryakov, Cong Xu, Aalap Tripathy, Suparna Bhattacharya, </span>
<span class="s">            Paolo Faraboschi}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2022}</span><span class="p">,</span>
<span class="w">    </span><span class="na">note</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{Presented at the &quot;Monterey Data Conference&quot;}</span><span class="p">,</span>
<span class="w">    </span><span class="na">URL</span><span class="p">=</span><span class="s">{https://drive.google.com/file/d/1Oqs0AN0RsAjt_y9ZjzYOmBxI8H0yqSpB/view}</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="community">Community<a class="headerlink" href="#community" title="Permanent link">&para;</a></h2>
<p><a href="https://commonmetadata.slack.com/"><img src="assets/slack_logo.png" width='150' hight='60'></a></p>
<div class="admonition help">
<p class="admonition-title">Help</p>
<p>Common Metadata Framework and its documentation are in active stage of development and are very new. If there is
anything unclear, missing or there's a typo, please, open an issue or pull request 
on <a href="https://github.com/HewlettPackard/cmf">GitHub</a>.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/HewlettPackard/cmf" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://commonmetadata.slack.com/" target="_blank" rel="noopener" title="commonmetadata.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>